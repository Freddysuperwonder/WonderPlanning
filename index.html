<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestione Appuntamenti</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <nav class="navbar">
    <ul>
      <li><a href="#" onclick="showSection('home')">Home</a></li>
      <li><a href="#" onclick="showSection('planning')">Planning</a></li>
      <li><a href="#" onclick="showSection('appointments')">Appuntamenti</a></li>
      <li><a href="#" onclick="showSection('case')">Archivio Case</a></li>
      <li><a href="#" onclick="showSection('collaboratori')">Archivio Collaboratori</a></li>
      <li><a href="#" onclick="showSection('dati')">Dati</a></li>
    </ul>
  </nav>
  <div id="home" class="section">
    <h1>Benvenuti nella gestione degli appuntamenti</h1>
  </div>
  <div id="planning" class="section" style="display:none;">
    <h1>PLANNING SETTIMANALE</h1>
    <h2 id="month-display"></h2>
    <div class="navigation">
      <button type="button" onclick="changeWeek(-1)">Settimana Precedente</button>
      <button type="button" onclick="changeWeek(1)">Settimana Successiva</button>
      <button id="increaseFontSize">Aumenta dimensione caratteri</button>
      <button id="decreaseFontSize">Riduci dimensione caratteri</button>
      <button id="increaseAppointmentFontSize">Aumenta dimensione caratteri appuntamenti</button>
      <button id="decreaseAppointmentFontSize">Riduci dimensione caratteri appuntamenti</button>
    </div>
    <div class="planning-grid">
      <!-- Planning content will be dynamically inserted here -->
    </div>
  </div>
  <div id="appointments" class="section" style="display:none;">
    <h1>GESTIONE APPUNTAMENTI</h1>
    <div>
      <input type="text" id="name" placeholder="Nome casa" title="Nome casa">
      <select id="caseSelect" title="Seleziona casa" onchange="updateName()">
        <!-- Case options will be dynamically inserted here -->
      </select>
      <input type="date" id="date" title="Inserisci la data" placeholder="YYYY-MM-DD">
      <input type="time" id="arrivalTime" title="Inserisci l'orario di arrivo" placeholder="HH:MM" onchange="calculateArrivalTime()">
      <select id="arrivalMode" title="ModalitÃ  di arrivo" onchange="calculateArrivalTime()">
        <option value="aereo">Aereo</option>
        <option value="treno">Treno</option>
        <option value="macchina">Macchina</option>
        <option value="altro">Altro</option>
      </select>
      <select id="transport" title="Trasporto" onchange="calculateArrivalTime()">
        <option value="NCC">NCC</option>
        <option value="Taxi">Taxi</option>
        <option value="Mezzi pubblici">Mezzi pubblici</option>
      </select>
      <input type="time" id="appointmentTime" title="Inserisci l'orario dell'appuntamento" placeholder="HH:MM">
      <select id="collaboratorSelect" title="Seleziona collaboratore">
        <!-- Collaboratori options will be dynamically inserted here -->
      </select>
      <button type="button" onclick="checkEarlyAppointment()">Aggiungi Appuntamento</button>
    </div>
    <div>
      <label for="filterCollaboratorSelect">Filtro per collaboratore:</label>
      <select id="filterCollaboratorSelect" onchange="filterAppointments()">
        <option value="">Tutti i collaboratori</option>
        <!-- Collaboratori options will be dynamically inserted here -->
      </select>
      <label><input type="checkbox" id="sortAsc" type="button" onchange="sortAppointments('asc')"> Ordina cronologico crescente</label>
      <label><input type="checkbox" id="sortDesc" type="button" onchange="sortAppointments('desc')"> Ordina cronologico decrescente</label>
      <label><input type="checkbox" id="filterToday" type="button" onchange="filterAppointmentsToday()"> A partire dalla data odierna</label>
      <button id="increaseAppointmentFontSize">Aumenta dimensione caratteri appuntamenti</button>
      <button id="decreaseAppointmentFontSize">Riduci dimensione caratteri appuntamenti</button>
    </div>
    <div id="appointments-list">
      <!-- Appointments list will be dynamically inserted here -->
    </div>
  </div>
  <div id="case" class="section" style="display:none;">
    <h1>ARCHIVIO CASE</h1>
    <input type="text" id="newCase" placeholder="Nome casa" title="Nome casa">
    <button type="button" onclick="addCase()">Aggiungi Casa</button>
    <ul id="case-list">
      <!-- Case list will be dynamically inserted here -->
    </ul>
  </div>
  <div id="collaboratori" class="section" style="display:none;">
    <h1>ARCHIVIO COLLABORATORI</h1>
    <input type="text" id="newCollaboratore" placeholder="Nome collaboratore" title="Nome collaboratore">
    <button type="button" onclick="addCollaboratore()">Aggiungi Collaboratore</button>
    <ul id="collaboratori-list">
      <!-- Collaboratori list will be dynamically inserted here -->
    </ul>
  </div>
  <div id="dati" class="section" style="display:none;">
    <h1>DATI</h1>
    <button type="button" onclick="saveData()">Save</button>
    <button type="button" onclick="loadData()">Load</button>
    <br>
    <label for="selectFolder">Cambia percorso di salvataggio:</label>
    <input type="file" id="selectFolder" webkitdirectory directory multiple/>
  </div>
  <script src="script.js"></script>
  <script>
    function checkEarlyAppointment() {
      const appointmentTime = document.getElementById('appointmentTime').value;
      const [hours, minutes] = appointmentTime.split(':').map(Number);
      if (hours < 11 || (hours === 11 && minutes < 15)) {
        if (confirm('Attenzione, arrivo prima delle 11.15!')) {
          addAppointment();
        }
      } else {
        addAppointment();
      }
    }
  </script>
</body>
</html>
